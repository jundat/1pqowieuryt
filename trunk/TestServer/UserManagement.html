
<html>
	<head>
		<title>USER MANAGEMENT</title>
		<script src="http://www.parsecdn.com/js/parse-1.2.8.min.js"></script>
		<script>
		Parse.initialize("eBS1K1uAUmYLZ82pRUeipced87whjFxu4b2Ju1Fn", "XJnob2TLSU4M7oQmXBOzX1qOagJKgVUJDRgzK1l3");
		//OLD: Parse.initialize("Rw2Rna6HuwC8AnijYpcErcj9JEk64C4daWyrWr1a", "rcuUcbde2Y7VNfVYFPBph1uGhh5RSWLTJbjcXBLi");
		
		function SignIn() {
			var name = document.getElementById("Sname").value;
			var password = document.getElementById("Spassword").value;

			Parse.Cloud.run(
				'signIn', 
				{
					name: name,
					password: password
				},
				{
					success: function(result) {
						var x = document.getElementById("txt");
						x.value = result;
					},
					
					error: function(error) {
						var x = document.getElementById("txt");
						x.value = JSON.stringify(error);
					}
				}
			);
		}


		
		function LogIn() {
			var username = document.getElementById("Lusername").value;
			var password = document.getElementById("Lpassword").value;
			
			Parse.Cloud.run(
				'logIn', 
				{
					username: username,
					password : password
				},
				
				{
					success: function(result) {
						var x = document.getElementById("txt");
						x.value = result;
					},
					
					error: function(error) {
						var x = document.getElementById("txt");
						x.value = JSON.stringify(error);
					}
				}
			);
		}


		function ChooseRoomType() {
			var username = document.getElementById("Cusername").value;
			var roomType = document.getElementById("roomType").value;
			
			Parse.Cloud.run(
				'chooseRoomType', 
				{
					"username" : username,
					"name": "Jundat",
					"sessionToken" : "token12345",
					"roomType" : roomType
				},
				
				{
					success: function(result) {
						var x = document.getElementById("txt");
						x.value = result;
					},
					
					error: function(error) {
						var x = document.getElementById("txt");
						x.value = JSON.stringify(error);
					}
				}
			);
		}


		function LeaveRoom() {
			var username = document.getElementById("L2username").value;
			var roomName = document.getElementById("L2roomName").value;
			
			Parse.Cloud.run(
				'leaveRoom', 
				{
					"username" : username,
					"sessionToken" : "token12345",
					"roomName" : roomName,
				},
				
				{
					success: function(result) {
						var x = document.getElementById("txt");
						x.value = result;
					},
					
					error: function(error) {
						var x = document.getElementById("txt");
						x.value = JSON.stringify(error);
					}
				}
			);
		}



		function Submit() {
			Parse.Cloud.run('submit', 
				{
					"username" : "user12",
					"sessionToken" : "token12345",
					"roomName" : "Room2No1",
					"time" : 2340,
					"word" : "banana"
				}, {
					success: function(result) {
						var x = document.getElementById("txt");
						x.value = result;
					},
				
					error: function(error) {
						var x = document.getElementById("txt");
						x.value = JSON.stringify(error);
					}
				}
			);
		}

		
		function RefreshAllMatch() {
			Parse.Cloud.run(
				'refreshAllMatch', {},
				{
					success: function(result) {
						var x = document.getElementById("txt");
						x.value = result;
					},
					
					error: function(error) {
						var x = document.getElementById("txt");
						x.value = JSON.stringify(error);
					}
				}
			);
		}


		function GetMoneyChart() {			
			Parse.Cloud.run(
				'getMoneyChart', {},
				{
					success: function(result) {
						var x = document.getElementById("txt");
						x.value = result;
					},
					
					error: function(error) {
						var x = document.getElementById("txt");
						x.value = JSON.stringify(error);
					}
				}
			);
		}


		function AddMoney() {
			var username = document.getElementById('Ausername').value;
			var addMoney = Number(document.getElementById('addMoney').value);

			Parse.Cloud.run(
				'addMoney', {
					username: username,
					addMoney: addMoney,
					achi: ""
				},
				{
					success: function(result) {
						var x = document.getElementById("txt");
						x.value = result;
					},
					
					error: function(error) {
						var x = document.getElementById("txt");
						x.value = JSON.stringify(error);
					}
				}
			);
		}

		</script>
	</head>

	<body>
		RESULT: 
		</br>
		<textarea id="txt" rows="5" cols="100"></textarea>
		
		<form>
			<fieldset>
				<legend>Sign In</legend>
				Name    : <input type="text" id="Sname"></input>
				Password: <input type="text" id="Spassword"></input>
				<button type="button" onclick="SignIn()">SignIn</button>
			</fieldset>
			</br>
			<fieldset>
				<legend>Log In</legend>
				UserName: <input type="text" id="Lusername"></input>
				Password: <input type="text" id="Lpassword"></input>
				<button type="button" onclick="LogIn()">LogIn</button>
			</fieldset>
			</br>
			<fieldset>
				<legend>ChooseRoomType</legend>
				UserName: <input type="text" id="Cusername"></input>
				RoomType: <input type="number" id="roomType"></input>
				<button type="button" onclick="ChooseRoomType()">ChooseRoomType</button>
			</fieldset>
			</br>
			<fieldset>
				<legend>LeaveRoom</legend>
				UserName: <input type="text" id="L2username"></input>
				RoomName: <input type="text" id="L2roomName"></input>
				<button type="button" onclick="LeaveRoom()">LeaveRoom</button>
			</fieldset>
				</br>
				<button type="button" onclick="RefreshAllMatch()">RefreshAllMatch</button>
				<button type="button" onclick="Submit()">Submit</button>
				<button type="button" onclick="GetMoneyChart()">GetMoneyChart</button>
			<fieldset>
				<legend>AddMoney</legend>
				UserName: <input type="text" id="Ausername"></input>
				AddMoney: <input type="number" id="addMoney"></input>
				<button type="button" onclick="AddMoney()">AddMoney</button>
			</fieldset>			
		</form>
		
	</body>
</html>

